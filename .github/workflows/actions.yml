name: Actions Workflow

on: ["push"]

jobs:
  run-github-actions:
    runs-on: ubuntu-latest
    steps:
      - name: List files
        run: |
          pwd
          ls -la
          echo $GITHUB_SHA
          # выведет   f9d9f0b7ca89012d8acd20b9a739745aee8cd7b3   

          echo $GITHUB_REPOSITORY
          # выведет yudbox/GA-test

          echo $GITHUB_WORKSPACE
          #  выведет/home/runner/work/GA-test/GA-test

          echo "${{ github.token }}"

          # git clone git@github:$GITHUB_REPOSITORY
          # git checkout $GITHUB_SHA
      - name: Checkout
        # action checkout копирует все файлы из репозитория в рабочую папку экшена
        # /home/runner/work/GA-test/GA-test
        uses: actions/checkout@v2.4.0

      - name: List files after checkout
        run: |
          pwd
          ls -la

      - name: Simple JS Action
        # id для шага по которому можно обратится вдругих шагах
        id: greet
        # сторонний скрипт который запускается со стороннего репозитория гитхаба
        # https://github.com/actions/hello-world-javascript-action
        uses: actions/hello-world-javascript-action@v1.1
        # так подключаются входяшие данные (input) описано в документации
        with:
          # ключ из документации для ввода данных в скрипт
          who-to-greet: "Alex"

      # второй шаг который обращается данным первого id = greet
      # outputs исходящие данные скрипта, time - ключ указаный в документации
      - name: Log Greeing Time
        run: echo "${{ steps.greet.outputs.time }}"
